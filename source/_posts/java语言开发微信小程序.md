---
layout: 1900730132的想法
title: javaScript开发微信小程序
date: 2020-08-13 15:41:41
tags: 开发
---

### 注册小程序
开发小程序先要做的就是注册小程序，要开发自然要一个账号，账号就自己的那个号，然后直接访问 https://mp.weixin.qq.com/， 可以看到账号分三类：服务号，订阅号和小程序。前两者这里不多说，直接点击小程序进去注册即可。

<!--more-->

### 注册小程序
开发小程序先要做的就是注册小程序，要开发自然要一个账号，账号就自己的那个号，然后直接访问 https://mp.weixin.qq.com/， 可以看到账号分三类：服务号，订阅号和小程序。前两者这里不多说，直接点击小程序进去注册即可。

### 配置服务器
小程序本身已经提供了很多接口，可以满足开发者大部分需要。但是如果已经有实现了的服务，那么在小程序里只需要调用服务接口就可以了（甚至可以用已经写好的网页）。如果正好有这方面的需求，那么首先需要在小程序控制台做相关的配置

#### 1.appid和秘匙
首先在开发者ID可以获取appID和秘钥（AppSecret）。appid是小程序的唯一标识，在开发中需要用到。
#### 2.服务器域名
（暂时先跳过）
### 关联设置
可以在**设置**中找到我们可以将小程序和公众号以及开放平台绑定到一起。当然这样做是有意义的，比如公众号支持在菜单里跳转小程序，小程序中也可以跳转进入公众号。最重要的原因是微信的unionid的使用机制，如果要获取用户的unionid，就必须将公众号和小程序绑定到开放平台。这里要说一点我遇到的问题，就是如果用户只用了你的小程序，而没有关注你的公众号，那么还是无法获取到unionid的。

### 开发者工具
使用微信公众号平台提供**微信web开发者工具**，直接安装就行了（安装不用介绍了吧）

### 项目结构

#### 1.project.config.json文件
根据文档说的，这个文件是保存一些个性化的设置，其中 appid 这个属性就是上面提到的**appid**。根据这个东西，项目完成之后，从开发工具向小程序控制台上传时才会知道项目的身份，即它属于哪个账号。当然了，如果把这个值改一下，那开发人员根本就打不开这个项目。

#### 2.app.json文件
所有页面都必须写进pages数组，注意不能写后缀。因为开发者没创建一个wxml文件，都会自动生成js，json和wxss文件，所以pages数组中的元素，只需要根据文件名就会找到这四个不同类型的文件。
tabBar对象就是定义的导航菜单，需要把点击导向的页面定义在list数组中。

#### 3.app.js文件
这个文件有一个globleData对象，里面定义小程序的全局变量，可以在任何页面去使用，比如可能需要在这里定义baseurl，或者用户信息等公共数据。需要注意，如果要使用app.js定义的内容，首先需要在使用的页面获取应用实例 const app = getApp()，然后可以使用例如 **app.globleData.全局变量名**的用法。